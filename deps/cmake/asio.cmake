include(ExternalProject)

SET(ASIO_CONFIGURE_COMMAND cd ${SRC_DIR}/asio/asio && ./autogen.sh && ./configure --prefix=${CMAKE_INSTALL_PREFIX})
SET(ASIO_BUILD_COMMAND cd ${SRC_DIR}/asio/asio && make)
SET(ASIO_INSTALL_COMMAND cd ${SRC_DIR}/asio/asio && make install)

ExternalProject_Add(asio
  INSTALL_DIR ${CMAKE_INSTALL_PREFIX}
  SOURCE_DIR  ${SRC_DIR}/asio
  # CONFIGURE_COMMAND ${CMAKE_COMMAND}
  PREFIX ${CMAKE_CURRENT_BINARY_DIR}/asio
  CONFIGURE_COMMAND ${ASIO_CONFIGURE_COMMAND}
  BUILD_COMMAND ${ASIO_BUILD_COMMAND}
  INSTALL_COMMAND ${ASIO_INSTALL_COMMAND}
  # INSTALL_COMMAND ${CMAKE_MAKE_PROGRAM} install
  )